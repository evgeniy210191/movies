{"version":3,"file":"static/js/160.7a84b624.chunk.js","mappings":"mNACA,EAAuB,qBAAvB,EAAmD,qBAAnD,EAAuF,6B,SCGjFA,EAAG,2EADG,oCAENC,EAAU,CACdC,OAAQ,CACNC,cACE,6NACFC,OAAQ,qBAJZ,SAQeC,EAAc,GAAdA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA6BC,GAA7B,yFAC0BC,MAAM,GAAD,OACxBP,EADwB,kBACXM,EAAWE,OADA,WAE3BP,GAHJ,cACQQ,EADR,gBAKqBA,EAAUC,OAL/B,cAKQC,EALR,yBAMSA,EAAKC,SANd,kEA2EA,MAnEA,WAAmB,IAAD,IAChB,GAAuCC,EAAAA,EAAAA,UAAS,IAAhD,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMZ,EAAU,UAAGW,EAAaE,IAAI,gBAApB,QAAgC,GAC1CC,GAAWC,EAAAA,EAAAA,MAJD,wCA4BhB,WAAwBC,GAAxB,0EACEA,EAAMC,iBACoB,KAAtBjB,EAAWE,OAFjB,uBAGIU,EAAgB,CAAC,GACjBH,EAAgB,CAAC,CAAES,KAAM,wBAJ7B,0CAOqBnB,EAAcC,GAPnC,OAOQK,EAPR,OAQEI,EAAgBJ,GARlB,4CA5BgB,sBAuChB,OAjCAc,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACd,UAAIL,QAAJ,IAAIA,GAAJ,UAAIA,EAAUM,aAAd,OAAI,EAAiBC,OAAQ,CAAC,IAMbtB,EANY,mCAM3B,sGAC0BE,MAAM,GAAD,OACxBP,EADwB,kBACX4B,EADW,WAE3B3B,GAHJ,cACQQ,EADR,gBAKqBA,EAAUC,OAL/B,OAKQC,EALR,OAMEI,EAAe,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAMC,SANxB,2CAN2B,qDACrBgB,EAAiBR,EAASM,MAAMC,OAAOE,MAC3CT,EAASM,MAAMC,OAAOG,QAAQ,KAAO,EACrCV,EAASM,MAAMC,OAAOI,QAWxB1B,GACD,CACF,GAAE,QAACe,QAAD,IAACA,GAAD,UAACA,EAAUM,aAAX,aAAC,EAAiBC,UAiBnB,iCACE,kBAAMK,SAzCM,4CAyCZ,WACE,8BACE,yDACA,kBAAOC,KAAK,OAAOC,YAAY,SAASC,SAnBhD,SAAsBb,GACpBJ,EAAgB,CAAEkB,MAAOd,EAAMe,OAAOC,OACvC,QAmBK,mBAAQC,UAAWC,EAAkBP,KAAK,SAA1C,wBAIF,eAAIM,UAAWC,EAAf,SACG1B,EAAYiB,OACXjB,EAAY2B,KAAI,YAA0B,IAAvBjB,EAAsB,EAAtBA,KAAMkB,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MAC3B,OACE,SAAC,KAAD,CAAMC,GAAE,UAAKF,GAAeH,UAAWC,EAAUd,MAAON,EAAxD,gBACGuB,QADH,IACGA,EAAAA,EAASnB,GADYkB,EAI3B,KAED,cAAGH,UAAWC,EAAd,2BAKT,EChFD,MAJA,WACE,OAAO,SAAC,EAAD,GACR,C","sources":["webpack://movies/./src/components/Search/Search.module.css?06df","components/Search/Search.jsx","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"Search_link__oBVAh\",\"list\":\"Search_list__T+97k\",\"searchButton\":\"Search_searchButton__8Jp1t\"};","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Search.module.css';\nconst key = 'ef54c316f166b2a5913791e8b3f63a4a';\nconst URL = `https://api.themoviedb.org/3/search/movie?language=en-US&api_key=${key}`;\nconst options = {\n  header: {\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjU0YzMxNmYxNjZiMmE1OTEzNzkxZThiM2Y2M2E0YSIsInN1YiI6IjY0NzBkZmZhYzVhZGE1MDBjMWEzNzhmMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fljmrABHLVGUf2e0aWKvdHeTeR0ruZNkP26DhsQLuYM',\n    accept: 'application/json',\n  },\n};\n\nasync function getSearchData(searchText) {\n  const fetchData = await fetch(\n    `${URL}&query=${searchText.trim()}&page=1`,\n    options\n  );\n  const data = await fetchData.json();\n  return data.results;\n}\nfunction Search() {\n  const [serchedData, setSearchedData] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const searchText = searchParams.get('movie') ?? '';\n  const location = useLocation();\n\n  useEffect(() => {\n    if (location?.state?.search) {\n      const sershTextSaved = location.state.search.slice(\n        location.state.search.indexOf('=') + 1,\n        location.state.search.length\n      );\n\n      async function getSearchData() {\n        const fetchData = await fetch(\n          `${URL}&query=${sershTextSaved}&page=1`,\n          options\n        );\n        const data = await fetchData.json();\n        setSearchedData(data?.results);\n      }\n      getSearchData();\n    }\n  }, [location?.state?.search]);\n\n  function hendleChange(event) {\n    setSearchParams({ movie: event.target.value });\n  }\n  async function onSubmit(event) {\n    event.preventDefault();\n    if (searchText.trim() === '') {\n      setSearchParams({});\n      setSearchedData([{ name: 'Enter movie title ' }]);\n      return;\n    }\n    const data = await getSearchData(searchText);\n    setSearchedData(data);\n  }\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <label>\n          <h2>Search your favorite movies</h2>\n          <input type=\"text\" placeholder=\"search\" onChange={hendleChange} />\n        </label>\n        <button className={css.searchButton} type=\"submit\">\n          search\n        </button>\n      </form>\n      <ol className={css.list}>\n        {serchedData.length ? (\n          serchedData.map(({ name, id, title }) => {\n            return (\n              <Link to={`${id}`} key={id} className={css.link} state={location}>\n                {title ?? name}\n              </Link>\n            );\n          })\n        ) : (\n          <p className={css.link}>Not found</p>\n        )}\n      </ol>\n    </>\n  );\n}\n\nexport default Search;\n","import Search from 'components/Search/Search';\n\nfunction Movies() {\n  return <Search />;\n}\n\nexport default Movies;\n"],"names":["URL","options","header","Authorization","accept","getSearchData","searchText","fetch","trim","fetchData","json","data","results","useState","serchedData","setSearchedData","useSearchParams","searchParams","setSearchParams","get","location","useLocation","event","preventDefault","name","useEffect","state","search","sershTextSaved","slice","indexOf","length","onSubmit","type","placeholder","onChange","movie","target","value","className","css","map","id","title","to"],"sourceRoot":""}